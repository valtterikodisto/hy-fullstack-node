{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","services_persons","axios","get","then","response","data","newObject","post","id","delete","concat","put","Notification","_ref","message","react_default","a","createElement","className","Error","_ref2","errorMessage","RemoveButton","_ref3","person","removePerson","onClick","Person","_ref4","name","number","App_RemoveButton","Persons","_ref5","persons","newFilter","filter","toLocaleLowerCase","includes","map","App_Person","key","Filter","_ref6","value","handler","onChange","PersonsForm","_ref7","personValue","personHandler","numberValue","numberHandler","addPerson","onSubmit","type","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","newName","setNewName","_useState5","_useState6","newNumber","setNewNumber","_useState7","_useState8","setNewFilter","_useState9","_useState10","setMessage","_useState11","_useState12","setErrorMessage","useEffect","personService","personData","flashNotification","notification","setTimeout","flashError","error","App_Notification","App_Error","App_Filter","event","target","App_PersonsForm","preventDefault","toLowerCase","personOnList","find","p","window","confirm","changedPerson","objectSpread","updatedPerson","returnedPerson","App_Persons","catch","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.776f09bf.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n    const request = axios.get(baseUrl)\n    return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n    const request = axios.post(baseUrl, newObject)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/${id}`)\n    return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\n    return request.then(response => response.data)\n}\nexport default {getAll,create,remove, update}","import React, { useState, useEffect } from 'react'\nimport personService from './services/persons'\n\n\nconst Notification = ({message}) => {\n  if (message === null) return null\n  \n  return (\n    <div className=\"notification\">\n      {message}\n    </div>\n  )\n}\n\nconst Error = ({errorMessage}) => {\n  if (errorMessage === null) return null\n  \n  return (\n    <div className=\"notification error-notification\">\n      {errorMessage}\n    </div>\n  )\n}\n\nconst RemoveButton = ({person, removePerson}) => {\n  return (\n    <button onClick={() => removePerson(person)}>remove</button>\n  )\n}\n\nconst Person = ({person, removePerson}) => <p>{person.name} {person.number} <RemoveButton person={person} removePerson={removePerson} /></p>\n\nconst Persons = ({persons, newFilter, removePerson}) => {\n  const filteredPersons = !newFilter ? persons : persons.filter(person => person.name.toLocaleLowerCase().includes(newFilter.toLocaleLowerCase()))\n  return filteredPersons.map(person => <Person key={person.name} person={person} removePerson={removePerson} />);\n}\n\nconst Filter = ({value, handler}) => <div>rajaa näytettäviä: <input value={value} onChange={handler} /></div>\n\nconst PersonsForm = ({personValue, personHandler, numberValue, numberHandler, addPerson}) => {\n  return (\n    <form onSubmit={addPerson}>\n      <div>\n        <div>nimi: <input value={personValue} onChange={personHandler} /></div>\n        <div>numero: <input value={numberValue} onChange={numberHandler} /></div>\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(personData => {\n        setPersons(personData)\n      })\n  }, [])\n\n  const handleFilterChange = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handlePersonChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const names = persons.map(person => person.name.toLowerCase())\n\n    if (!names.includes(newName.toLowerCase())) {\n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n      personService\n        .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n          flashNotification(`Lisättiin ${returnedPerson.name}`)\n        })\n\n    } else {\n      const personOnList = persons.find(p => p.name.toLowerCase() === newName.toLocaleLowerCase())\n      if (window.confirm(`${personOnList.name} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        const changedPerson = {...personOnList, number: newNumber}\n        personService\n          .update(personOnList.id, changedPerson)\n          .then(updatedPerson => {\n            setPersons(persons.map(p => p.id !== personOnList.id ? p : updatedPerson))\n            setNewName('')\n            setNewNumber('')\n            flashNotification(`Päivitettiin ${changedPerson.name}`)\n          })\n      }\n    }\n  }\n\n  const removePerson = (person) => {\n    if (window.confirm(`Poistetaanko ${person.name}`)){\n      personService\n        .remove(person.id)\n        .then(() => {\n          flashNotification(`Poistettiin ${person.name}`)\n          setPersons(persons.filter(p => p.id !== person.id))\n        })\n        .catch(error => {\n          flashError(`Henkilö ${person.name} oli jo poistettu`)\n          setPersons(persons.filter(p => p.id !== person.id))\n        })\n    }\n  }\n\n  const flashNotification = (notification) => {\n    setMessage(notification)\n    setTimeout(() => {\n      setMessage(null)\n    }, 3000)\n  }\n\n  const flashError = (error) => {\n    setErrorMessage(error)\n    setTimeout(() => {\n      setErrorMessage(null)\n    }, 3000)\n  }\n\n  return (\n    <div>\n      <h1>Puhelinluettelo</h1>\n      <Notification message={message} />\n      <Error errorMessage={errorMessage} />\n      <Filter value={newFilter} handler={handleFilterChange} />\n      \n      <h2>Lisää uusi</h2>\n      <PersonsForm \n      personValue={newName} \n      personHandler={handlePersonChange} \n      numberValue={newNumber}\n      numberHandler={handleNumberChange}\n      addPerson={addPerson}/>\n\n      <h2>Numerot</h2>\n      <Persons persons={persons} newFilter={newFilter} removePerson={removePerson} />\n    </div>\n  )\n\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}